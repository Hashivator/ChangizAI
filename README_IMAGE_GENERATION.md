# تصویرسازی با هوش مصنوعی جمینی

این قابلیت به ربات تلگرام امکان ایجاد تصاویر با استفاده از متن کاربر را می‌دهد. با استفاده از مدل جمینی 2.0، ربات می‌تواند تصاویری با کیفیت بالا و متناسب با توضیحات متنی ایجاد کند.

## نحوه استفاده

کاربران می‌توانند با ارسال پیام به فرمت زیر، تصویر مورد نظر خود را ایجاد کنند:

```
عکس بساز: [توضیحات تصویر مورد نظر]
```

مثال:
```
عکس بساز: یک گربه نارنجی که روی مبل خوابیده است
```

## نیازمندی‌ها

برای فعال شدن این قابلیت، نیاز به نصب نسخه جدید کتابخانه `google-generativeai` است:

```bash
pip install google-generativeai>=0.3.2
```

اگر با خطای نبود ماژول `types` روبرو شدید، این دستور را اجرا کنید:

```bash
pip uninstall google-generativeai -y
pip install google-generativeai --upgrade
```

## راه‌اندازی سریع

برای اضافه کردن این قابلیت به پروژه موجود، فقط کافیست فایل `handlers.py` را به روز کنید و مطمئن شوید که کتابخانه `google-generativeai` به روز است.

## تنظیمات کلید API

برای استفاده از این قابلیت نیاز به کلید API جمینی است. کلید پیش‌فرض در فایل `handlers.py` تنظیم شده است. برای تغییر این کلید می‌توانید:

1. مستقیماً متغیر `GEMINI_API_KEY` را در فایل `handlers.py` تغییر دهید
2. یا متغیر محیطی `GEMINI_API_KEY` را در سیستم خود تنظیم کنید:

```bash
export GEMINI_API_KEY="your_key_here"
```

## بررسی وضعیت

ادمین‌های ربات می‌توانند با ارسال دستور `/check_image_gen` وضعیت فعال بودن قابلیت تصویرسازی را بررسی کنند.

## نمونه درخواست‌ها

```
عکس بساز: منظره کوهستانی با آبشار و درختان سبز در غروب آفتاب
عکس بساز: یک گربه سیاه با چشمان آبی در حالت خواب روی مبل قرمز
عکس بساز: تصویر انتزاعی از شهر تهران با سبک نقاشی امپرسیونیستی
عکس بساز: یک میز با غذاهای ایرانی سنتی از نمای بالا
```

## خطاهای متداول

- **سرویس تصویرسازی در حال حاضر شلوغ است**: این خطا زمانی رخ می‌دهد که API جمینی با بار زیادی مواجه است. در این حالت بعد از مدتی دوباره تلاش کنید.
- **کلید API معتبر نیست**: کلید API شما نامعتبر است یا منقضی شده است. کلید API را بررسی کنید.
- **درخواست شما به دلیل مغایرت با قوانین قابل انجام نیست**: متن ارسالی شما با قوانین جمینی مغایرت دارد. متن دیگری را امتحان کنید.

## محدودیت‌ها

- هر تصویر با توجه به پیچیدگی متن ممکن است بین 5 تا 30 ثانیه زمان برای ایجاد نیاز داشته باشد.
- برخی درخواست‌ها ممکن است به دلیل محتوای نامناسب یا خشونت‌آمیز رد شوند.
- کیفیت تصاویر به توضیحات دقیق و واضح بستگی دارد.

## نکات

- هرچه توضیحات شما دقیق‌تر باشد، تصویر خروجی به آنچه در ذهن دارید نزدیک‌تر خواهد بود.
- استفاده از کلمات کلیدی مناسب مانند سبک هنری، رنگ‌ها و جزئیات مهم به بهبود نتیجه کمک می‌کند.
- تصاویر با فرمت PNG ذخیره می‌شوند و به صورت خودکار پس از ارسال به کاربر حذف می‌شوند. 